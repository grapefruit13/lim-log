---
title: '(ë¦¬íŒ©í„°ë§ 2íŒ) ch08.8 ë°˜ë³µë¬¸ì„ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ë°”ê¾¸ê¸°'
excerpt: 'ë°˜ë³µë¬¸ì„ ë” ê°„ê²°í•˜ê³  ì§ê´€ì ì¸ ì½”ë“œë¡œ ë°”ê¿€ ìˆ˜ ìˆëŠ” ë°©ë²•'
coverImage: 'https://sprint-fe-project.s3.ap-northeast-2.amazonaws.com/globalnomad/profile_image/2-3_116_1720775325500.avif'
date: '2024-06-26T05:35:07.322Z'
author:
  name: Lim
  picture: '/assets/blog/authors/profile_pixel.avif'
ogImage:
  url: 'https://sprint-fe-project.s3.ap-northeast-2.amazonaws.com/globalnomad/profile_image/2-3_116_1720775325500.avif'
---

## âœ… ë°°ê²½

### ì»¬ë ‰ì…˜ íŒŒì´í”„ë¼ì¸ Collection Pipeline

- ì–´ë–¤ ì—°ì‚°ì„ **ì¼ë ¨ì˜ ì—°ì‚°**ìœ¼ë¡œ êµ¬ì„±í•˜ëŠ” í”„ë¡œê·¸ë˜ë° íŒ¨í„´ìœ¼ë¡œ, í•œ ì—°ì‚°ì˜ ì¶œë ¥ìœ¼ë¡œ ì»¬ë ‰ì…˜ì„ ê°€ì ¸ì™€ ë‹¤ìŒ ì—°ì‚°ì— ê³µê¸‰í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ì„±ëœë‹¤. (ì¼ë°˜ì ì¸ ì—°ì‚°ì€ **filter, map, reduce**ì´ë‹¤.)
- ì´ íŒ¨í„´ì€ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ê³¼ ëŒë‹¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°ì²´ ì§€í–¥ ì–¸ì–´ì—ì„œë„ í”íˆ ë³¼ ìˆ˜ ìˆë‹¤.
- ì´ë¥¼ ì´ìš©í•´ ê°ì²´ ì»¬ë ‰ì…˜ ìˆœíšŒ ê³¼ì •ì„ ì¼ë ¨ì˜ ì—°ì‚°ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

### ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” ì—°ì‚°

1. **map**

ì…ë ¥ ì»¬ë ‰ì…˜ì˜ ê° ì›ì†Œë¥¼ ë³€í™˜í•œë‹¤.

2. **filter**

ì…ë ¥ ì»¬ë ‰ì…˜ì„ í•„í„°ë§í•´ ë¶€ë¶„ì§‘í•©ì„ ìƒì„±í•œë‹¤.

### íš¨ê³¼

ê°ì²´ê°€ íŒŒì´í”„ë¼ì¸ì„ ë”°ë¼ ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€ë¥¼ ì½ì„ ìˆ˜ ìˆì–´ **ì½”ë“œ ê°€ë…ì„±**ì´ ì¢‹ì•„ì§„ë‹¤.

---

## âœ… ì ˆì°¨

```jsx
1. ë°˜ë³µë¬¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì»¬ë ‰ì…˜ì„ ê°€ë¦¬í‚¤ëŠ” ë³€ìˆ˜ë¥¼ í•˜ë‚˜ ë§Œë“ ë‹¤.
-> ê¸°ì¡´ ë³€ìˆ˜ë¥¼ ë‹¨ìˆœíˆ ë³µì‚¬í•œ ê²ƒì¼ ìˆ˜ë„ ìˆë‹¤.

2. ë°˜ë³µë¬¸ì˜ ì²« ì¤„ë¶€í„° ì‹œì‘í•´, ê°ê°ì˜ ë‹¨ìœ„ í–‰ìœ„ë¥¼ ì ì ˆí•œ ì»¬ë ‰ì…˜ íŒŒì´í”„ë¼ì¸ ì—°ì‚°ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤.
ì´ ë•Œ ì»¬ë ‰ì…˜ íŒŒì´í”„ë¼ì¸ ì—°ì‚°ì€ 1.ì—ì„œ ë§Œë“  ë°˜ë³µë¬¸ ì»¬ë ‰ì…˜ ë³€ìˆ˜ì—ì„œ ì‹œì‘í•˜ë©°,
ì´ì „ ì—°ì‚°ì˜ ê²°ê³¼ë¥¼ ê¸°ì´ˆë¡œ ì—°ì‡„ì ìœ¼ë¡œ ìˆ˜í–‰í•œë‹¤.
í•˜ë‚˜ë¥¼ ëŒ€ì²´í•  ë•Œë§ˆë‹¤ í…ŒìŠ¤íŠ¸í•œë‹¤.

3. ë°˜ë³µë¬¸ì˜ ëª¨ë“  ë™ì‘ì„ ëŒ€ì²´í–ˆë‹¤ë©´ ë°˜ë³µë¬¸ ìì²´ë¥¼ ì§€ìš´ë‹¤.
-> ë°˜ë³µë¬¸ì´ ê²°ê³¼ë¥¼ ëˆ„ì  ë³€ìˆ˜ accumulatorì— ëŒ€ì…í–ˆë‹¤ë©´ íŒŒì´í”„ë¼ì¸ì˜ ê²°ê³¼ë¥¼ ê·¸ ëˆ„ì  ë³€ìˆ˜ì— ëŒ€ì…í•œë‹¤.

```

---

## ğŸ§‘ğŸ»â€ğŸ­ ë¦¬íŒ©í† ë§ ì‹¤ìŠµ

### ì˜ˆì‹œ ì½”ë“œ

#### 1. CSV í˜•íƒœì˜ ë°ì´í„°

```jsx
office, country, telephone
Chicago, USA, +1 234 234 1234
Beijing, China, +86 1234 123 123
Bangalore, India, +91 80 4098 1234
Porto Alegre, Brazil, +55 123 123 123
...
```

íšŒì‚¬ì˜ ì§€ì  ì‚¬ë¬´ì‹¤ ì •ë³´ë¥¼ CSV í˜•íƒœë¡œ ì •ë¦¬í–ˆë‹¤.

#### 2. í•¨ìˆ˜

```jsx
function acquireData(input) {
  const lines = input.split('\n'); // ì»¬ë ‰ì…˜
  let firstLIne = true;
  const result = [];

  for (const line of lines) {
    // ë°˜ë³µë¬¸
    if (firstLine) {
      firstLine = false;
      continue;
    }

    if (line.trim() === '') continue;

    const record = line.split(',');

    if (record[1].trim() === 'India') {
      result.push({ city: record[0].trim(), phone: record[2].trim() });
    }
  }

  return result;
}
```

- ì¸ë„ì— ìœ„ì¹˜í•œ ì‚¬ë¬´ì‹¤ì˜ ë„ì‹œëª…ê³¼ ì „í™”ë²ˆí˜¸ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
- ì´ ì½”ë“œì˜ ë°˜ë³µë¬¸ì„ ì»¬ë ‰ì…˜ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ë°”ê¾¸ì–´ë³´ê² ë‹¤.

### ë¦¬íŒ©í† ë§

### 1. ë£¨í”„ ë³€ìˆ˜ loop variable ìƒì„±

```jsx
function acquireData(input) {
  const lines = input.split('\n');
  let firstLIne = true;
  const result = [];
  const loopItems = lines; // ë£¨í”„ ë³€ìˆ˜

  for (const line of lines) {
    if (firstLine) {
      firstLine = false;
      continue;
    }

    if (line.trim() === '') continue;

    const record = line.split(',');

    if (record[1].trim() === 'India') {
      result.push({ city: record[0].trim(), phone: record[2].trim() });
    }
  }

  return result;
}
```

<aside>
ğŸ” **ë£¨í”„ ë³€ìˆ˜ loop variable**

ë°˜ë³µë¬¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì»¬ë ‰ì…˜ì„ ê°€ë¦¬í‚¤ëŠ” ë³„ë„ ë³€ìˆ˜ë¥¼ ë§í•œë‹¤.

</aside>

### 2. ë°˜ë³µë¬¸ì„ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ” ì—°ì‚° ì‚¬ìš©

**`silce()` ì‚¬ìš©**

```jsx
function acquireData(input) {
  const lines = input.split('\n');
  // let firstLIne = true;
  const result = [];
  const loopItems = lines.slice(1);

  for (const line of lines) {
    //	if (firstLine) {
    //		firstLine = false;
    //		continue;
    // 	}

    if (line.trim() === '') continue;

    const record = line.split(',');

    if (record[1].trim() === 'India') {
      result.push({ city: record[0].trim(), phone: record[2].trim() });
    }
  }

  return result;
}
```

- ë°˜ë³µë¬¸ì˜ ì²« `if`ë¬¸ì€ CSV ë°ì´í„°ì˜ ì²« ì¤„ì„ ê±´ë„ˆë›°ëŠ” ì—­í• ë¡œ, `slice()` ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤.

---

**`trim()`ì„ `filter()`ë¡œ ëŒ€ì²´**

```jsx
function acquireData(input) {
  const lines = input.split('\n');
  const result = [];
  const loopItems = lines.slice(1).filter((line) => line.trim() !== ''); // ë¬¸ì¥ ì¢…ë£Œ ì„¸ë¯¸ì½œë¡ ì„ ë³„ë„ ì¤„ì— ì ê¸°
  for (const line of lines) {
    //	if (line.trim() === "") continue;

    const record = line.split(',');

    if (record[1].trim() === 'India') {
      result.push({ city: record[0].trim(), phone: record[2].trim() });
    }
  }

  return result;
}
```

- ë¹ˆ ì¤„ì„ ì§€ìš¸ ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•œ `trim()`ì„ `filter()`ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤.
- ë¬¸ì¥ ì¢…ë£Œ ì„¸ë¯¸ì½œë¡ (`;` )ì„ ë³„ë„ ì¤„ì— ì ì–´ë‘ë©´ ê°€ë…ì„±ì´ í–¥ìƒëœë‹¤.

---

**`map()`ì„ ì‚¬ìš©í•´ ì—¬ëŸ¬ ì¤„ì§œë¦¬ CSV ë°ì´í„°ë¥¼ ë¬¸ìì—´ ë°°ì—´ë¡œ ë³€í™˜**

```jsx
function acquireData(input) {
  const lines = input.split('\n');
  const result = [];
  const loopItems = lines
    .slice(1)
    .filter((line) => line.trim() !== '')
    .map((line) => line.split(','));
  for (const line of lines) {
    const record = line;

    if (record[1].trim() === 'India') {
      result.push({ city: record[0].trim(), phone: record[2].trim() });
    }
  }

  return result;
}
```

---

**`if`ë¬¸ì„ `filter()`ë¡œ ëŒ€ì²´**

```jsx
function acquireData(input) {
  const lines = input.split('\n');
  const result = [];
  const loopItems = lines
    .slice(1)
    .filter((line) => line.trim() !== '')
    .map((line) => line.split(',').filter((record) => record[1].trim() === 'India'));
  for (const line of lines) {
    const record = line;

    //		if (record[1].trim() === "India") {
    result.push({ city: record[0].trim(), phone: record[2].trim() });
    //		}
  }

  return result;
}
```

---

**`map()`ìœ¼ë¡œ ê²°ê³¼ ë ˆì½”ë“œ ìƒì„±**

```jsx
function acquireData(input) {
	const lines = input.split("\n");
	const result = [];
	const loopItems = lines
			.slice(1)
			.filter(line => line.trim() !== "")
			.map(line => line.split(",")
			.filter(record => record[1].trim() === "India")
			.map(record => {cite: record[0].trim(), phone: record[2].trim()}))
			;

	for (const line of lines) {
		const record = line;
		result.push(line);
	}

	return result;
}
```

### 3. íŒŒì´í”„ë¼ì¸ì˜ ê²°ê³¼ë¥¼ ëˆ„ì  ë³€ìˆ˜ì— ëŒ€ì…

```jsx
function acquireData(input) {
	const lines = input.split("\n");
	const result = lines
			.slice(1)
			.filter(line => line.trim() !== "")
			.map(line => line.split(",")
			.filter(record => record[1].trim() === "India")
			.map(record => {cite: record[0].trim(), phone: record[2].trim()}))
			;

//	for (const line of lines) {
//		const record = line;
//		result.push(line);
//	}

	return result;
}
```

---

## ì°¸ê³ 

- <a href='https://www.yes24.com/Product/Goods/89649360'>ë¦¬íŒ©í† ë§ 2íŒ, ë§ˆí‹´ íŒŒìš¸ëŸ¬</a>
- <a href='https://martinfowler.com/articles/collection-pipeline/'>ë§ˆí‹´ íŒŒìš¸ëŸ¬ ë¸”ë¡œê·¸</a>
